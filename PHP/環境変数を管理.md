## 機密データをソースコードとは別で管理する

**機密データをソースコードから分離するのに環境変数を使う**

**通常の変数**  
- PHPのコードの中で定義し、実行したプロセス内でのみ使用できる
- コードを直接記述するので、コードを見れば変数の中身が分かり、また環境によって切り替えることもできない

**環境変数**  
- PHPが動いているOSに保存し、PHPアプリケーションに渡す仕組み(OSに格納される変数)
- PHPのコードに直接記述しないので、コードを見ても変数の中身がバレず、また環境によって切り替えられる

## PHPで環境変数を使う
**環境変数を使うのに、.nevファイルを使うと簡単に設定できて便利(phpdotenv)**

- 現状
  - ソースコードにベタ書き`$link = mysqli_connect(my_host, my_user, my_password, my_db);`

- .envを使うと
  - ソースコードから分離できる。環境によって使い分けができる
  - .envファイル : 重要な設定データを定義する→環境変数として定義される `DB_HOST = db`
  - プログラムのファイル : .envファイルに定義した値を取得して使える
```php
$dbHOST = getenv('DB_HOST'); // $_ENV['DB_'HOST]でも取得できる
$link = mysqli_connect($dbHOST, ...);
```
